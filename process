<style>
/* ===== ë¦¬ì…‹ & ê¸°ë³¸ ===== */
.bm-process {
  font-family: var(--font-family-body);
  background-color: {{property.bgColor}};
  padding: {{property.paddingTopDesktop}}px {{property.paddingRightDesktop}}px {{property.paddingBottomDesktop}}px {{property.paddingLeftDesktop}}px;
  box-sizing: border-box;
}
.bm-process *, .bm-process *::before, .bm-process *::after {
  box-sizing: border-box;
}
.bm-process p { margin: 0; }
.bm-process strong { font-weight: 700; }
.bm-process em, .bm-process i { font-style: italic; }

/* ===== ë‚´ë¶€ ë˜í¼ ===== */
.bm-process__inner {
  {{#if property.useMaxWidth}}
  max-width: {{property.maxWidth}}px;
  {{/if}}
  margin: 0 auto;
  width: 100%;
}

/* ===== ì„¹ì…˜ í—¤ë” ===== */
.bm-process__header {
  margin-bottom: {{property.headerBottomGap}}px;
}
.bm-process__title {
  font-family: var(--font-family-heading);
  font-size: {{property.titlePcSize}}px;
  line-height: 1.3;
}

/* ===== ì¹´ë“œ ê·¸ë¦¬ë“œ ===== */
.bm-process__grid {
  display: flex;
  gap: {{property.cardGap}}px;
  {{#if (eq property.desktopLayout 'wrap')}}
  flex-wrap: wrap;
  {{else}}
  flex-wrap: nowrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  {{/if}}
}
.bm-process__grid::-webkit-scrollbar { display: none; }

/* ===== ì¹´ë“œ ì•„ì´í…œ (flex ê· ë“± ë¶„í• ) ===== */
.bm-process__item {
  flex: 1 1 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 8px;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.bm-process__item.is-animate {
  opacity: 1;
  transform: translateY(0);
}

/* ===== ì¹´ë“œ ì›í˜• ì»¨í…Œì´ë„ˆ ===== */
.bm-process__card {
  width: 100%;
  padding: {{property.cardPadding}}px;
  background-color: {{property.cardBgColor}};
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* -- ì›í˜• ì¹´ë“œ -- */
{{#if (eq property.cardShape 'circle')}}
.bm-process__card {
  aspect-ratio: 1 / 1;
  border-radius: 50%;
}
{{else}}
.bm-process__card {
  border-radius: {{property.cardBorderRadius}}px;
  padding-top: {{property.cardPadding}}px;
  padding-bottom: {{property.cardPadding}}px;
}
{{/if}}

/* -- ì¹´ë“œ ìŠ¤íƒ€ì¼ ë³€í˜• -- */
{{#if (eq property.cardStyle 'default')}}
.bm-process__card { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
{{/if}}
{{#if (eq property.cardStyle 'border')}}
.bm-process__card { border: {{property.cardBorderWidth}}px solid {{property.cardBorderColor}}; }
{{/if}}
{{#if (eq property.cardStyle 'elevated')}}
.bm-process__card { box-shadow: 0 6px 20px rgba(0,0,0,0.12); }
{{/if}}
{{#if (eq property.cardStyle 'minimal')}}
.bm-process__card { background-color: transparent; }
{{/if}}

/* ===== ì•„ì´ì½˜ ===== */
.bm-process__icon-wrap {
  width: {{property.iconSize}}px;
  height: {{property.iconSize}}px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 6px;
}
.bm-process__icon-wrap i {
  font-size: {{property.iconSize}}px;
  color: {{property.iconColor}};
  line-height: 1;
}

/* ===== í…ìŠ¤íŠ¸ ===== */
.bm-process__step-num {
  font-size: {{property.stepNumPcSize}}px;
  color: {{property.stepNumberColor}};
  font-weight: 600;
  text-transform: uppercase;
  margin-bottom: 2px;
}
.bm-process__card-title {
  font-family: var(--font-family-heading);
  font-size: {{property.cardTitlePcSize}}px;
  color: {{property.cardTitleColor}};
  line-height: 1.3;
}
.bm-process__card-desc {
  font-size: {{property.cardDescPcSize}}px;
  color: {{property.cardDescColor}};
  line-height: 1.5;
  white-space: pre-line;
  margin-top: 4px;
}

/* ===== ëª¨ë°”ì¼ ===== */
@media (max-width: 700px) {
  .bm-process {
    padding: {{property.paddingTopMobile}}px {{property.paddingRightMobile}}px {{property.paddingBottomMobile}}px {{property.paddingLeftMobile}}px;
  }
  .bm-process__title {
    font-size: {{property.titleMoSize}}px;
  }
  .bm-process__step-num {
    font-size: {{property.stepNumMoSize}}px;
  }
  .bm-process__card-title {
    font-size: {{property.cardTitleMoSize}}px;
  }
  .bm-process__card-desc {
    font-size: {{property.cardDescMoSize}}px;
  }

  /* ëª¨ë°”ì¼ - ì„¸ë¡œ ìŠ¤íƒ (1ì—´) */
  {{#if (eq property.mobileLayout 'stack')}}
  .bm-process__grid {
    flex-direction: column;
    flex-wrap: nowrap;
    overflow-x: visible;
  }
  .bm-process__item {
    flex: none;
    width: 100%;
  }
  {{#if (eq property.cardShape 'circle')}}
  .bm-process__card {
    width: 140px;
    margin: 0 auto;
  }
  {{/if}}
  {{/if}}

  /* ëª¨ë°”ì¼ - 2ì—´ ê·¸ë¦¬ë“œ */
  {{#if (eq property.mobileLayout 'grid2')}}
  .bm-process__grid {
    flex-wrap: wrap;
    overflow-x: visible;
  }
  .bm-process__item {
    flex: none;
    width: calc(50% - {{divide property.cardGap 2}}px);
  }
  {{#if (eq property.cardShape 'circle')}}
  .bm-process__card {
    width: 100%;
    margin: 0 auto;
  }
  {{/if}}
  {{/if}}

  /* ëª¨ë°”ì¼ - ê°€ë¡œ ìŠ¤í¬ë¡¤ */
  {{#if (eq property.mobileLayout 'scroll')}}
  .bm-process__grid {
    flex-wrap: nowrap;
    overflow-x: auto;
  }
  .bm-process__item {
    flex: 0 0 120px;
    min-width: 120px;
  }
  {{/if}}
}
</style>
<template>
<div class="bm-process">
  <div class="bm-process__inner">

    <div class="bm-process__header">
      <div class="bm-process__title">{{{property.sectionTitle}}}</div>
    </div>

    <div class="bm-process__grid">
      {{#each property.steps}}
      <div class="bm-process__item" data-index="{{@index}}">

        <div class="bm-process__card">
          <div class="bm-process__icon-wrap">
            <i class="ph {{icon}}"></i>
          </div>
          <div class="bm-process__step-num">{{stepNumber}}</div>
          <div class="bm-process__card-title">{{title}}</div>
        </div>

        {{#if description}}
        <div class="bm-process__card-desc">{{description}}</div>
        {{/if}}

      </div>
      {{/each}}
    </div>

  </div>
</div>
</template>

<script>
var container = bm.container;
var context = bm.context;
var observer = null;

/* ===== ì´ˆê¸°í™” ===== */
function init() {
  setupAnimation();
}

/* ===== ìˆœì°¨ ì• ë‹ˆë©”ì´ì…˜ ===== */
function setupAnimation() {
  if (observer) {
    observer.disconnect();
    observer = null;
  }

  var items = container.querySelectorAll('.bm-process__item');
  if (!items.length) return;

  var enableAnim = context.property.enableAnimation;
  var delay = context.property.animationDelay || 100;

  if (!enableAnim) {
    for (var i = 0; i < items.length; i++) {
      items[i].classList.add('is-animate');
      items[i].style.transitionDelay = '0ms';
    }
    return;
  }

  /* ì´ˆê¸°í™” */
  for (var i = 0; i < items.length; i++) {
    items[i].classList.remove('is-animate');
    items[i].style.transitionDelay = (i * delay) + 'ms';
  }

  observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-animate');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.15 });

  for (var i = 0; i < items.length; i++) {
    observer.observe(items[i]);
  }
}

/* ===== ì‹¤í–‰ ===== */
init();

bm.onContextChange = function() {
  init();
};

bm.onDestroy = function() {
  if (observer) {
    observer.disconnect();
    observer = null;
  }
};
</script>

{"settings":[{"type":"TITLE","content":"ëˆ„ë¼í† ë¼ ì „ë¬¸ ê°œë°œ ë¸”ë¡"},{"type":"DESCRIPTION","content":"ã€ ì•ˆë‚´ ã€‘\nì½”ë“œ ì—†ì´ ì§ì ‘ ìš´ì˜í•˜ì‹¤ ìˆ˜ ìˆë„ë¡\nì „ë¬¸ ê°œë°œìê°€ ê¸°íšÂ·ì„¤ê³„Â·êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.\nê°„ë‹¨í•œ ìˆ˜ì •ì€ ë¸”ë¡ AIë¥¼ í™œìš©í•˜ì‹œê³ ,\nê³ ë„í™”ëœ ì»¤ìŠ¤í…€ì´ í•„ìš”í•˜ì‹œë©´\nì „ë¬¸ê°€ì—ê²Œ ì˜ë¢°í•´ ì£¼ì„¸ìš”."},{"type":"TITLE","content":"ğŸ“‹ ì„¹ì…˜ í—¤ë”"},{"type":"RICH_TEXT","id":"sectionTitle","label":"ì„¹ì…˜ íƒ€ì´í‹€","default":"<p style=\"text-align:center\">ì„œë¹„ìŠ¤ ì§„í–‰ìˆœì„œ ì•ˆë‚´</p>"},{"type":"RANGE","id":"titlePcSize","label":"â†³ íƒ€ì´í‹€ PC ê¸€ì”¨ í¬ê¸°","min":18,"max":52,"step":1,"unit":"px","default":32},{"type":"RANGE","id":"titleMoSize","label":"â†³ íƒ€ì´í‹€ ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":16,"max":36,"step":1,"unit":"px","default":24},{"type":"RANGE","id":"headerBottomGap","label":"í—¤ë” â†” ì¹´ë“œ ê°„ê²©","min":16,"max":80,"step":4,"unit":"px","default":40},{"type":"TITLE","content":"ğŸ“ ë ˆì´ì•„ì›ƒ"},{"type":"CHECKBOX","id":"useMaxWidth","label":"ìµœëŒ€ ë„ˆë¹„ ì‚¬ìš©","default":true},{"type":"RANGE","id":"maxWidth","label":"â†³ ì½˜í…ì¸  ìµœëŒ€ ë„ˆë¹„","min":600,"max":1600,"step":40,"unit":"px","default":1200,"isVisible":"property.useMaxWidth == true"},{"type":"RADIO","id":"desktopLayout","label":"PC ë ˆì´ì•„ì›ƒ","options":[{"value":"nowrap","label":"í•œ ì¤„ (ìŠ¤í¬ë¡¤)"},{"value":"wrap","label":"ìë™ ì¤„ë°”ê¿ˆ"}],"default":"nowrap"},{"id":"mobileLayout","label":"ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ","options":[{"value":"stack","label":"ì„¸ë¡œ 1ì—´"},{"value":"grid2","label":"2ì—´ ê·¸ë¦¬ë“œ"},{"value":"scroll","label":"ê°€ë¡œ ìŠ¤í¬ë¡¤"}],"optionLabelType":"text","defaultIndex":2,"type":"RADIO"},{"type":"RANGE","id":"cardGap","label":"ì¹´ë“œ ê°„ê²©","min":0,"max":50,"step":4,"unit":"px","default":20},{"type":"TITLE","content":"ğŸ“ ì—¬ë°± (ë°ìŠ¤í¬í†±)"},{"type":"RANGE","id":"paddingTopDesktop","label":"ìƒë‹¨ ì—¬ë°±","min":0,"max":120,"step":4,"unit":"px","default":60},{"type":"RANGE","id":"paddingBottomDesktop","label":"í•˜ë‹¨ ì—¬ë°±","min":0,"max":120,"step":4,"unit":"px","default":60},{"type":"RANGE","id":"paddingLeftDesktop","label":"ì¢Œì¸¡ ì—¬ë°±","min":0,"max":120,"step":4,"unit":"px","default":20},{"type":"RANGE","id":"paddingRightDesktop","label":"ìš°ì¸¡ ì—¬ë°±","min":0,"max":120,"step":4,"unit":"px","default":20},{"type":"TITLE","content":"ğŸ“ ì—¬ë°± (ëª¨ë°”ì¼)"},{"type":"RANGE","id":"paddingTopMobile","label":"ìƒë‹¨ ì—¬ë°±","min":0,"max":80,"step":4,"unit":"px","default":40},{"type":"RANGE","id":"paddingBottomMobile","label":"í•˜ë‹¨ ì—¬ë°±","min":0,"max":80,"step":4,"unit":"px","default":40},{"type":"RANGE","id":"paddingLeftMobile","label":"ì¢Œì¸¡ ì—¬ë°±","min":0,"max":80,"step":4,"unit":"px","default":16},{"type":"RANGE","id":"paddingRightMobile","label":"ìš°ì¸¡ ì—¬ë°±","min":0,"max":80,"step":4,"unit":"px","default":16},{"type":"TITLE","content":"âœï¸ ë‹¨ê³„ ëª©ë¡"},{"type":"LIST","id":"steps","label":"ì§„í–‰ ë‹¨ê³„","maxCount":10,"settings":[{"type":"TEXT","id":"stepNumber","label":"ë‹¨ê³„ ë²ˆí˜¸","default":"STEP 01"},{"type":"TEXT","id":"title","label":"ë‹¨ê³„ ì œëª©","default":"ë‹¨ê³„ ì œëª©"},{"type":"SELECT","id":"icon","label":"ì•„ì´ì½˜","options":[{"value":"ph-clipboard-text","label":"ì£¼ë¬¸í™•ì¸"},{"value":"ph-paint-brush","label":"ë””ìì¸ì‘ì—…"},{"value":"ph-wrench","label":"ë§ì¶¤ì œì‘"},{"value":"ph-fire","label":"ê°€ë§ˆì†Œì„±"},{"value":"ph-gift","label":"ì„ ë¬¼í¬ì¥"},{"value":"ph-truck","label":"ë°œì†¡"},{"value":"ph-check-circle","label":"ì²´í¬"},{"value":"ph-palette","label":"íŒ”ë ˆíŠ¸"},{"value":"ph-hammer","label":"ë§ì¹˜"},{"value":"ph-flame","label":"ë¶ˆê½ƒ"},{"value":"ph-package","label":"ë°•ìŠ¤"},{"value":"ph-airplane","label":"ë¹„í–‰ê¸°"},{"value":"ph-shopping-cart","label":"ì¥ë°”êµ¬ë‹ˆ"},{"value":"ph-users","label":"ì‚¬ìš©ì"},{"value":"ph-chats","label":"ì±„íŒ…"},{"value":"ph-lightbulb","label":"ì „êµ¬"},{"value":"ph-heart","label":"í•˜íŠ¸"},{"value":"ph-star","label":"ë³„"},{"value":"ph-trophy","label":"íŠ¸ë¡œí”¼"},{"value":"ph-rocket","label":"ë¡œì¼“"},{"value":"ph-chart-line","label":"ì°¨íŠ¸"},{"value":"ph-gear","label":"ì„¤ì •"},{"value":"ph-handshake","label":"ì•…ìˆ˜"},{"value":"ph-file-text","label":"ë¬¸ì„œ"}],"default":"ph-check-circle"},{"type":"TEXTAREA","id":"description","label":"ìƒì„¸ ì„¤ëª… (ì„ íƒì‚¬í•­)","default":""}]},{"type":"TITLE","content":"âœï¸ í…ìŠ¤íŠ¸ í¬ê¸°"},{"type":"RANGE","id":"stepNumPcSize","label":"ë‹¨ê³„ë²ˆí˜¸ PC ê¸€ì”¨ í¬ê¸°","min":8,"max":16,"step":1,"unit":"px","default":11},{"type":"RANGE","id":"stepNumMoSize","label":"ë‹¨ê³„ë²ˆí˜¸ ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":8,"max":14,"step":1,"unit":"px","default":10},{"type":"RANGE","id":"cardTitlePcSize","label":"ì¹´ë“œ ì œëª© PC ê¸€ì”¨ í¬ê¸°","min":12,"max":28,"step":1,"unit":"px","default":18},{"type":"RANGE","id":"cardTitleMoSize","label":"ì¹´ë“œ ì œëª© ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":11,"max":22,"step":1,"unit":"px","default":15},{"type":"RANGE","id":"cardDescPcSize","label":"ì¹´ë“œ ì„¤ëª… PC ê¸€ì”¨ í¬ê¸°","min":11,"max":18,"step":1,"unit":"px","default":13},{"type":"RANGE","id":"cardDescMoSize","label":"ì¹´ë“œ ì„¤ëª… ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":10,"max":16,"step":1,"unit":"px","default":12},{"type":"TITLE","content":"ğŸ¨ ì¹´ë“œ ë””ìì¸"},{"type":"RADIO","id":"cardShape","label":"ì¹´ë“œ ëª¨ì–‘","options":[{"value":"rectangle","label":"ì‚¬ê°í˜•"},{"value":"circle","label":"ì›í˜•"}],"default":"circle"},{"type":"RANGE","id":"circleSize","label":"â†³ ì›í˜• ì¹´ë“œ í¬ê¸°","min":120,"max":300,"step":10,"unit":"px","default":150,"isVisible":"property.cardShape == 'circle'"},{"type":"RANGE","id":"cardBorderRadius","label":"â†³ ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸°","min":0,"max":30,"step":2,"unit":"px","default":12,"isVisible":"property.cardShape == 'rectangle'"},{"type":"SELECT","id":"cardStyle","label":"ì¹´ë“œ ìŠ¤íƒ€ì¼","options":[{"value":"default","label":"ê¸°ë³¸ (ê·¸ë¦¼ì)"},{"value":"border","label":"í…Œë‘ë¦¬"},{"value":"flat","label":"í”Œë«"},{"value":"elevated","label":"ì…ì²´ (ê°•í•œ ê·¸ë¦¼ì)"},{"value":"minimal","label":"ë¯¸ë‹ˆë©€"}],"default":"border"},{"type":"COLOR_PICKER","id":"cardBgColor","label":"ì¹´ë“œ ë°°ê²½ìƒ‰","default":"#FAF8F5"},{"type":"COLOR_PICKER","id":"cardBorderColor","label":"â†³ í…Œë‘ë¦¬ ìƒ‰ìƒ","default":"#DDD5CC","isVisible":"property.cardStyle == 'border'"},{"type":"RANGE","id":"cardBorderWidth","label":"â†³ í…Œë‘ë¦¬ ë‘ê»˜","min":1,"max":5,"step":1,"unit":"px","default":1,"isVisible":"property.cardStyle == 'border'"},{"type":"RANGE","id":"cardPadding","label":"ì¹´ë“œ ë‚´ë¶€ ì—¬ë°±","min":10,"max":50,"step":4,"unit":"px","default":10},{"type":"TITLE","content":"ğŸ¨ ìƒ‰ìƒ"},{"type":"COLOR_PICKER","id":"bgColor","label":"ì„¹ì…˜ ë°°ê²½ìƒ‰","default":"#FAF8F5"},{"type":"COLOR_PICKER","id":"stepNumberColor","label":"ë‹¨ê³„ ë²ˆí˜¸ ìƒ‰ìƒ","default":"#8C7B72"},{"type":"COLOR_PICKER","id":"cardTitleColor","label":"ì¹´ë“œ ì œëª© ìƒ‰ìƒ","default":"#3B2E2A"},{"type":"COLOR_PICKER","id":"cardDescColor","label":"ì¹´ë“œ ì„¤ëª… ìƒ‰ìƒ","default":"#8C7B72"},{"type":"COLOR_PICKER","id":"iconColor","label":"ì•„ì´ì½˜ ìƒ‰ìƒ","default":"#3B2E2A"},{"type":"COLOR_PICKER","id":"iconBgColor","label":"ì•„ì´ì½˜ ë°°ê²½ìƒ‰","default":"#EDE3D8"},{"type":"RANGE","id":"iconSize","label":"ì•„ì´ì½˜ í¬ê¸°","min":24,"max":60,"step":4,"unit":"px","default":32},{"type":"TITLE","content":"ğŸ¬ ì• ë‹ˆë©”ì´ì…˜"},{"type":"CHECKBOX","id":"enableAnimation","label":"ìˆœì°¨ ì• ë‹ˆë©”ì´ì…˜ í™œì„±í™”","default":true},{"type":"RANGE","id":"animationDelay","label":"â†³ ë”œë ˆì´","min":0,"max":300,"step":50,"unit":"ms","default":100,"isVisible":"property.enableAnimation == true"}],"property":{"sectionTitle":"<p style=\"text-align:center\">ì„œë¹„ìŠ¤ ì§„í–‰ìˆœì„œ ì•ˆë‚´</p>","titlePcSize":32,"titleMoSize":24,"headerBottomGap":40,"useMaxWidth":true,"maxWidth":1200,"desktopLayout":"nowrap","mobileLayout":"scroll","cardGap":20,"paddingTopDesktop":60,"paddingBottomDesktop":60,"paddingLeftDesktop":20,"paddingRightDesktop":20,"paddingTopMobile":40,"paddingBottomMobile":40,"paddingLeftMobile":16,"paddingRightMobile":16,"steps":[{"stepNumber":"STEP 01","title":"ì£¼ë¬¸ í™•ì¸","icon":"ph-clipboard-text","description":""},{"stepNumber":"STEP 02","title":"ë””ìì¸ ì‘ì—…","icon":"ph-paint-brush","description":""},{"stepNumber":"STEP 03","title":"ë§ì¶¤ ì œì‘","icon":"ph-wrench","description":""},{"stepNumber":"STEP 04","title":"ê°€ë§ˆ ì†Œì„±","icon":"ph-fire","description":""},{"stepNumber":"STEP 05","title":"ì„ ë¬¼ í¬ì¥","icon":"ph-gift","description":""},{"stepNumber":"STEP 06","title":"ë°œì†¡","icon":"ph-truck","description":""}],"stepNumPcSize":11,"stepNumMoSize":10,"cardTitlePcSize":18,"cardTitleMoSize":15,"cardDescPcSize":13,"cardDescMoSize":12,"cardShape":"circle","circleSize":150,"cardBorderRadius":12,"cardStyle":"border","cardBgColor":"#FAF8F5","cardBorderColor":"#DDD5CC","cardBorderWidth":1,"cardPadding":10,"bgColor":"#F7F6F3FF","stepNumberColor":"#8C7B72FF","cardTitleColor":"#3B2E2AFF","cardDescColor":"#8C7B72FF","iconColor":"#3B2E2AFF","iconBgColor":"#EDE3D8FF","iconSize":32,"enableAnimation":true,"animationDelay":100}}

