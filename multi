<style>
/* ===== ë°°ë„ˆ ë¸”ë¡ ===== */
.bm-banner {
  position: relative;
  width: 100%;
  font-family: var(--font-family-body);
}

/* ===== ì˜¤ë²„ë ˆì´ (JSì—ì„œ ë™ì  ì ìš©) ===== */
.bm-banner__overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
}

/* ===== ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ ===== */
.bm-banner__grid {
  width: 100%;
  {{#if property.useMaxWidth}}
  max-width: {{property.maxWidth}}px;
  margin-left: auto;
  margin-right: auto;
  {{/if}}
  height: {{property.bannerHeight}}vh;
  display: grid;
  gap: {{property.imageGap}}px;
  overflow: hidden;

  {{#if (eq property.imageCount '1')}}
  grid-template-columns: 1fr;
  {{/if}}
  {{#if (eq property.imageCount '2')}}
  grid-template-columns: 1fr 1fr;
  {{/if}}
  {{#if (eq property.imageCount '3')}}
  grid-template-columns: 1fr 1fr 1fr;
  {{/if}}
}

/* ===== ì´ë¯¸ì§€ ë˜í¼ ===== */
.bm-banner__image-wrap {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: {{property.borderRadius}}px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bm-banner__image-wrap a {
  display: block;
  width: 100%;
  height: 100%;
}

.bm-banner__image-wrap picture {
  display: block;
  width: 100%;
  height: 100%;
}

.bm-banner__image-wrap img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: {{property.imageFit}};
  object-position: center;
}

/* ===== í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ===== */
.bm-banner__text-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  z-index: 2;
  padding: 20px;
  pointer-events: none;

  {{#if (eq property.textAlign 'left')}}
  align-items: flex-start;
  text-align: left;
  justify-content: center;
  {{/if}}
  {{#if (eq property.textAlign 'center')}}
  align-items: center;
  text-align: center;
  justify-content: center;
  {{/if}}
  {{#if (eq property.textAlign 'right')}}
  align-items: flex-end;
  text-align: right;
  justify-content: center;
  {{/if}}
}

.bm-banner__text-content {
  max-width: 100%;
  word-wrap: break-word;
}

/* ===== íƒ€ì´í‹€ (RICH_TEXT) ===== */
.bm-banner__title {
  font-size: {{property.titlePcSize}}px;
  line-height: 1.3;
  font-family: var(--font-family-heading);
}

.bm-banner__title p {
  margin: 0;
}

.bm-banner__title strong {
  font-weight: 700;
}

.bm-banner__title em,
.bm-banner__title i {
  font-style: italic;
}

/* ===== ë‚´ìš© (RICH_TEXT) ===== */
.bm-banner__desc {
  font-size: {{property.descPcSize}}px;
  line-height: 1.6;
  margin-top: {{property.titleDescGap}}px;
}

.bm-banner__desc p {
  margin: 0;
}

.bm-banner__desc strong {
  font-weight: 700;
}

.bm-banner__desc em,
.bm-banner__desc i {
  font-style: italic;
}

/* ===== ëª¨ë°”ì¼ ë°˜ì‘í˜• ===== */
@media (max-width: 767px) {
  .bm-banner__grid {
    height: {{property.mobileHeight}}vh;
    {{#if property.stackOnMobile}}
    grid-template-columns: 1fr;
    {{/if}}
  }

  .bm-banner__text-overlay {
    padding: 15px;
  }

  .bm-banner__title {
    font-size: {{property.titleMoSize}}px;
  }

  .bm-banner__desc {
    font-size: {{property.descMoSize}}px;
  }
}

/* ===== ê·¹ì†Œí˜• í™”ë©´ ===== */
@media (max-width: 480px) {
  .bm-banner__grid {
    min-height: 200px;
  }
}

/* ===== ì´ˆëŒ€í˜• í™”ë©´ ===== */
@media (min-width: 2560px) {
  .bm-banner__grid {
    max-height: 90vh;
  }
}
</style>

<template>
<div class="bm-banner">
  {{#if property.useOverlay}}
  <div class="bm-banner__overlay"></div>
  {{/if}}

  <div class="bm-banner__grid">
    {{#each property.images}}
      {{#if (lt @index (toNumber ../property.imageCount))}}
        <div class="bm-banner__image-wrap">
          {{#if link.value}}
            <a href="{{link.value}}" {{#if shouldOpenInNewTab}}target="_blank" rel="noopener noreferrer"{{/if}}>
              <picture>
                {{#if mobileImage}}
                <source media="(max-width: 767px)" srcset="{{mobileImage}}">
                {{/if}}
                <img src="{{image}}" alt="ë°°ë„ˆ ì´ë¯¸ì§€ {{add @index 1}}" loading="lazy">
              </picture>
            </a>
          {{else}}
            <picture>
              {{#if mobileImage}}
              <source media="(max-width: 767px)" srcset="{{mobileImage}}">
              {{/if}}
              <img src="{{image}}" alt="ë°°ë„ˆ ì´ë¯¸ì§€ {{add @index 1}}" loading="lazy">
            </picture>
          {{/if}}
        </div>
      {{/if}}
    {{/each}}
  </div>

  {{#if (or property.titleText property.descText)}}
  <div class="bm-banner__text-overlay">
    <div class="bm-banner__text-content">
      {{#if property.titleText}}
      <div class="bm-banner__title">
        {{{property.titleText}}}
      </div>
      {{/if}}

      {{#if property.descText}}
      <div class="bm-banner__desc">
        {{{property.descText}}}
      </div>
      {{/if}}
    </div>
  </div>
  {{/if}}
</div>
</template>

<script>
var container = bm.container;
var context = bm.context;

/* ===== HEX â†’ RGBA ë³€í™˜ ===== */
function hexToRgba(hex, opacity) {
  var r = parseInt(hex.slice(1, 3), 16);
  var g = parseInt(hex.slice(3, 5), 16);
  var b = parseInt(hex.slice(5, 7), 16);
  return 'rgba(' + r + ',' + g + ',' + b + ',' + (opacity / 100) + ')';
}

/* ===== ì˜¤ë²„ë ˆì´ ì ìš© ===== */
function applyOverlay() {
  var overlay = container.querySelector('.bm-banner__overlay');
  if (!overlay) return;

  var prop = context.property;

  if (!prop.useOverlay) {
    overlay.style.background = 'none';
    return;
  }

  var opacity = prop.overlayOpacity / 100;

  if (prop.overlayType === 'solid') {
    overlay.style.background = hexToRgba(prop.overlayColor, prop.overlayOpacity);
  } else if (prop.overlayType === 'gradient') {
    var startRgba = hexToRgba(prop.gradientStartColor, prop.overlayOpacity);
    var endRgba = hexToRgba(prop.gradientEndColor, prop.overlayOpacity);
    overlay.style.background = 'linear-gradient(' + prop.gradientDirection + 'deg, ' + startRgba + ' 0%, ' + endRgba + ' 100%)';
  }
}

/* ===== í…ìŠ¤íŠ¸ ê·¸ë¦¼ì ì ìš© ===== */
function applyTextShadows() {
  var prop = context.property;

  var titleEl = container.querySelector('.bm-banner__title');
  if (titleEl) {
    if (prop.useTitleShadow) {
      titleEl.style.textShadow = prop.titleShadowX + 'px ' + prop.titleShadowY + 'px ' + prop.titleShadowBlur + 'px ' + hexToRgba(prop.titleShadowColor, prop.titleShadowOpacity);
    } else {
      titleEl.style.textShadow = 'none';
    }
  }

  var descEl = container.querySelector('.bm-banner__desc');
  if (descEl) {
    if (prop.useDescShadow) {
      descEl.style.textShadow = prop.descShadowX + 'px ' + prop.descShadowY + 'px ' + prop.descShadowBlur + 'px ' + hexToRgba(prop.descShadowColor, prop.descShadowOpacity);
    } else {
      descEl.style.textShadow = 'none';
    }
  }
}

/* ===== ì´ˆê¸°í™” ===== */
function init() {
  applyOverlay();
  applyTextShadows();
}

init();

/* ===== ì»¨í…ìŠ¤íŠ¸ ë³€ê²½ ì‹œ ì‹¤ì‹œê°„ ë°˜ì˜ ===== */
bm.onContextChange = function() {
  init();
};

/* ===== í´ë¦°ì—… ===== */
bm.onDestroy = function() {
  console.log('ë°°ë„ˆ ë¸”ë¡ì´ ì •ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
};
</script>
{"settings":[{"type":"TITLE","content":"ëˆ„ë¼í† ë¼ ì „ë¬¸ ê°œë°œ ë¸”ë¡"},{"type":"DESCRIPTION","content":"ã€ ì•ˆë‚´ ã€‘\nì½”ë“œ ì—†ì´ ì§ì ‘ ìš´ì˜í•˜ì‹¤ ìˆ˜ ìˆë„ë¡\nì „ë¬¸ ê°œë°œìê°€ ê¸°íšÂ·ì„¤ê³„Â·êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.\nê°„ë‹¨í•œ ìˆ˜ì •ì€ ë¸”ë¡ AIë¥¼ í™œìš©í•˜ì‹œê³ ,\nê³ ë„í™”ëœ ì»¤ìŠ¤í…€ì´ í•„ìš”í•˜ì‹œë©´\nì „ë¬¸ê°€ì—ê²Œ ì˜ë¢°í•´ ì£¼ì„¸ìš”."},{"type":"TITLE","content":"ğŸ“‹ ê¸°ë³¸ ì„¤ì •"},{"type":"RANGE","id":"bannerHeight","label":"ë°°ë„ˆ ë†’ì´ (ë°ìŠ¤í¬í†±)","min":10,"max":100,"step":1,"unit":"vh","default":33},{"type":"RANGE","id":"mobileHeight","label":"ë°°ë„ˆ ë†’ì´ (ëª¨ë°”ì¼)","min":20,"max":100,"step":1,"unit":"vh","default":30},{"type":"RADIO","id":"imageCount","label":"ì´ë¯¸ì§€ ê°œìˆ˜","options":[{"value":"1","label":"1ê°œ"},{"value":"2","label":"2ê°œ"},{"value":"3","label":"3ê°œ"}],"default":"3"},{"type":"RADIO","id":"imageFit","label":"ì´ë¯¸ì§€ ì±„ìš°ê¸° ë°©ì‹","options":[{"value":"cover","label":"ì±„ìš°ê¸°"},{"value":"contain","label":"ë§ì¶¤"},{"value":"fill","label":"ëŠ˜ë¦¬ê¸°"}],"default":"cover"},{"type":"CHECKBOX","id":"stackOnMobile","label":"ëª¨ë°”ì¼ì—ì„œ ì„¸ë¡œ ìŠ¤íƒ","default":false},{"type":"TITLE","content":"ğŸ–¼ï¸ ì´ë¯¸ì§€ ëª©ë¡"},{"type":"LIST","id":"images","label":"ì´ë¯¸ì§€ ëª©ë¡","maxCount":3,"settings":[{"type":"IMAGE_PICKER","id":"image","label":"ë°ìŠ¤í¬í†± ì´ë¯¸ì§€"},{"type":"IMAGE_PICKER","id":"mobileImage","label":"ëª¨ë°”ì¼ ì´ë¯¸ì§€ (ì„ íƒì‚¬í•­)"},{"type":"LINK","id":"link","label":"ë§í¬"},{"type":"CHECKBOX","id":"shouldOpenInNewTab","label":"ìƒˆ íƒ­ì—ì„œ ì—´ê¸°","default":false,"isVisible":"property.images[index].link && property.images[index].link.value"}]},{"type":"TITLE","content":"âœï¸ í…ìŠ¤íŠ¸ ì½˜í…ì¸ "},{"type":"RICH_TEXT","id":"titleText","label":"íƒ€ì´í‹€ í…ìŠ¤íŠ¸","default":""},{"type":"RANGE","id":"titlePcSize","label":"â†³ íƒ€ì´í‹€ PC ê¸€ì”¨ í¬ê¸°","min":16,"max":96,"step":1,"unit":"px","default":40},{"type":"RANGE","id":"titleMoSize","label":"â†³ íƒ€ì´í‹€ ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":14,"max":64,"step":1,"unit":"px","default":28},{"type":"RICH_TEXT","id":"descText","label":"ë‚´ìš© í…ìŠ¤íŠ¸","default":""},{"type":"RANGE","id":"descPcSize","label":"â†³ ë‚´ìš© PC ê¸€ì”¨ í¬ê¸°","min":12,"max":48,"step":1,"unit":"px","default":16},{"type":"RANGE","id":"descMoSize","label":"â†³ ë‚´ìš© ëª¨ë°”ì¼ ê¸€ì”¨ í¬ê¸°","min":10,"max":32,"step":1,"unit":"px","default":14},{"type":"RADIO","id":"textAlign","label":"í…ìŠ¤íŠ¸ ì •ë ¬","options":[{"value":"left","label":"ì¢Œì¸¡"},{"value":"center","label":"ê°€ìš´ë°"},{"value":"right","label":"ìš°ì¸¡"}],"default":"center"},{"type":"RANGE","id":"titleDescGap","label":"íƒ€ì´í‹€ â†” ë‚´ìš© ê°„ê²©","min":0,"max":50,"step":2,"unit":"px","default":16},{"type":"TITLE","content":"ğŸ¨ ë””ìì¸ ì„¤ì •"},{"type":"CHECKBOX","id":"useMaxWidth","label":"ìµœëŒ€ ë„ˆë¹„ ì œí•œ ì‚¬ìš©","default":false},{"type":"RANGE","id":"maxWidth","label":"ìµœëŒ€ ë„ˆë¹„","min":800,"max":2000,"step":10,"unit":"px","default":1200,"isVisible":"property.useMaxWidth == true"},{"type":"RANGE","id":"imageGap","label":"ì´ë¯¸ì§€ ê°„ê²©","min":0,"max":40,"step":2,"unit":"px","default":0},{"type":"RANGE","id":"borderRadius","label":"ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸°","min":0,"max":50,"step":1,"unit":"px","default":0},{"type":"TITLE","content":"ğŸ¬ ì˜¤ë²„ë ˆì´ ì„¤ì •"},{"type":"CHECKBOX","id":"useOverlay","label":"ì˜¤ë²„ë ˆì´ ì‚¬ìš©","default":false},{"type":"RADIO","id":"overlayType","label":"ì˜¤ë²„ë ˆì´ íƒ€ì…","options":[{"value":"solid","label":"ë‹¨ìƒ‰"},{"value":"gradient","label":"ê·¸ë¼ë°ì´ì…˜"}],"default":"solid","isVisible":"property.useOverlay == true"},{"type":"COLOR_PICKER","id":"overlayColor","label":"ì˜¤ë²„ë ˆì´ ìƒ‰ìƒ","default":"#3B2E2A","isVisible":"property.useOverlay == true && property.overlayType == 'solid'"},{"type":"RANGE","id":"overlayOpacity","label":"ì˜¤ë²„ë ˆì´ íˆ¬ëª…ë„","min":0,"max":100,"step":5,"unit":"%","default":30,"isVisible":"property.useOverlay == true"},{"type":"COLOR_PICKER","id":"gradientStartColor","label":"ê·¸ë¼ë°ì´ì…˜ ì‹œì‘ ìƒ‰ìƒ","default":"#3B2E2A","isVisible":"property.useOverlay == true && property.overlayType == 'gradient'"},{"type":"COLOR_PICKER","id":"gradientEndColor","label":"ê·¸ë¼ë°ì´ì…˜ ë ìƒ‰ìƒ","default":"#FAF8F5","isVisible":"property.useOverlay == true && property.overlayType == 'gradient'"},{"type":"RANGE","id":"gradientDirection","label":"ê·¸ë¼ë°ì´ì…˜ ë°©í–¥","min":0,"max":360,"step":15,"unit":"ë„","default":180,"isVisible":"property.useOverlay == true && property.overlayType == 'gradient'"},{"type":"TITLE","content":"âš™ï¸ í…ìŠ¤íŠ¸ ê·¸ë¦¼ì"},{"type":"CHECKBOX","id":"useTitleShadow","label":"íƒ€ì´í‹€ ê·¸ë¦¼ì ì‚¬ìš©","default":true},{"type":"COLOR_PICKER","id":"titleShadowColor","label":"â†³ ê·¸ë¦¼ì ìƒ‰ìƒ","default":"#000000","isVisible":"property.useTitleShadow == true"},{"type":"RANGE","id":"titleShadowBlur","label":"â†³ ê·¸ë¦¼ì ë¸”ëŸ¬","min":0,"max":20,"step":1,"unit":"px","default":4,"isVisible":"property.useTitleShadow == true"},{"type":"RANGE","id":"titleShadowOpacity","label":"â†³ ê·¸ë¦¼ì íˆ¬ëª…ë„","min":0,"max":100,"step":5,"unit":"%","default":40,"isVisible":"property.useTitleShadow == true"},{"type":"RANGE","id":"titleShadowX","label":"â†³ ê·¸ë¦¼ì X","min":-20,"max":20,"step":1,"unit":"px","default":0,"isVisible":"property.useTitleShadow == true"},{"type":"RANGE","id":"titleShadowY","label":"â†³ ê·¸ë¦¼ì Y","min":-20,"max":20,"step":1,"unit":"px","default":2,"isVisible":"property.useTitleShadow == true"},{"type":"CHECKBOX","id":"useDescShadow","label":"ë‚´ìš© ê·¸ë¦¼ì ì‚¬ìš©","default":true},{"type":"COLOR_PICKER","id":"descShadowColor","label":"â†³ ê·¸ë¦¼ì ìƒ‰ìƒ","default":"#000000","isVisible":"property.useDescShadow == true"},{"type":"RANGE","id":"descShadowBlur","label":"â†³ ê·¸ë¦¼ì ë¸”ëŸ¬","min":0,"max":20,"step":1,"unit":"px","default":3,"isVisible":"property.useDescShadow == true"},{"type":"RANGE","id":"descShadowOpacity","label":"â†³ ê·¸ë¦¼ì íˆ¬ëª…ë„","min":0,"max":100,"step":5,"unit":"%","default":30,"isVisible":"property.useDescShadow == true"},{"type":"RANGE","id":"descShadowX","label":"â†³ ê·¸ë¦¼ì X","min":-20,"max":20,"step":1,"unit":"px","default":0,"isVisible":"property.useDescShadow == true"},{"type":"RANGE","id":"descShadowY","label":"â†³ ê·¸ë¦¼ì Y","min":-20,"max":20,"step":1,"unit":"px","default":1,"isVisible":"property.useDescShadow == true"}],"property":{"bannerHeight":33,"mobileHeight":30,"imageCount":"3","imageFit":"cover","stackOnMobile":false,"images":[{"image":"https://cdn.sixshop.io/sf-gateway/public/stores/selporcelain/themes/HOME-%ED%99%88%ED%95%98%EB%8B%A8%EB%B6%804-B2B%EB%AC%B8%EC%9D%98-%EC%82%AC%EC%A7%84_1762940415762.jpg","mobileImage":"","link":{"type":"","label":"","value":""},"shouldOpenInNewTab":false},{"image":"https://cdn.sixshop.io/sf-gateway/public/stores/selporcelain/themes/HOME-%ED%99%88%ED%95%98%EB%8B%A8%EB%B6%801-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%95%88%EB%82%B4-%EC%82%AC%EC%A7%84_1762940469478.jpg","mobileImage":"","link":{"type":"","label":"","value":""},"shouldOpenInNewTab":false},{"image":"https://cdn.sixshop.io/sf-gateway/public/stores/selporcelain/themes/About-%ED%8E%98%EC%9D%B4%EC%A7%80-%ED%95%98%EB%8B%A8%EB%B6%80-%EC%82%AC%EC%A7%845_1762940497804.jpg","mobileImage":"","link":{"type":"","label":"","value":""},"shouldOpenInNewTab":false}],"titleText":"","titlePcSize":40,"titleMoSize":28,"descText":"","descPcSize":16,"descMoSize":14,"textAlign":"center","titleDescGap":16,"useMaxWidth":false,"maxWidth":1200,"imageGap":0,"borderRadius":0,"useOverlay":false,"overlayType":"solid","overlayColor":"#3B2E2A","overlayOpacity":30,"gradientStartColor":"#3B2E2A","gradientEndColor":"#FAF8F5","gradientDirection":180,"useTitleShadow":true,"titleShadowColor":"#000000","titleShadowBlur":4,"titleShadowOpacity":40,"titleShadowX":0,"titleShadowY":2,"useDescShadow":true,"descShadowColor":"#000000","descShadowBlur":3,"descShadowOpacity":30,"descShadowX":0,"descShadowY":1}}
